import{C as v,D as m,E as D,n as d,o as H,G as h,t as y,i as I,e as w,S as $,b,s as g,H as M,l as x,F as C}from"./index.js";async function E(r,o){let e=[];return o===""?e=await v(r):e=await m(r,o),e!=null?(e.sort((i,c)=>i.Date<c.Date?1:-1),e):[]}var F=y("<div class=history-line>"),G=y("<i>");function K(r){const[o,e]=D([]);let i;const c=async()=>{const n=await E(r.mac,r.date);if(r.date)e(n);else{const t=Date.now(),l=n.filter(s=>{const a=new Date(s.Date);return t-a.getTime()<=24*60*60*1e3});e(l)}};return d(()=>{c()}),H(()=>{i=setInterval(c,6e4)}),h(()=>{clearInterval(i)}),(()=>{var n=F();return I(n,w(C,{each:o,children:(t,l)=>w($,{get when(){return l()<x()},get children(){var s=G();return b(a=>{var f=`Date:${t.Date}
Iface:${t.Iface}
IP:${t.IP}
Known:${t.Known}`,u=t.Now===0?"my-box-off":"my-box-on";return f!==a.e&&g(s,"title",a.e=f),u!==a.t&&M(s,a.t=u),a},{e:void 0,t:void 0}),s}})})),n})()}export{K as M};
