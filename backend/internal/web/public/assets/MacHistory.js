import{B as w,C as g,D as $,o as D,l as H,E as I,t as h,i as v,e as y,b as O,G as T,s as b,F as E,S as F}from"./index.js";async function C(n,l){let i=[];return l===""?i=await w(n):i=await g(n,l),i!=null?(i.sort((c,u)=>c.Date<u.Date?1:-1),i):[]}var M=h("<div class=timeline-labels><span>00:00</span><span>06:00</span><span>12:00</span><span>18:00</span><span>24:00"),N=h("<div class=timeline-container><div class=timeline-bar>"),A=h("<div>");function P(n){const[l,i]=$([]);let c;const u=()=>n.showLabels!==!1,S=(t,r)=>{const s=Array.from({length:24},(e,a)=>({hour:a,isOn:!1,entries:[]}));return t.forEach(e=>{const a=new Date(e.Date);if(a.toISOString().split("T")[0]===r){const o=a.getHours();o>=0&&o<24&&(s[o].entries.push(e),e.Now===1&&(s[o].isOn=!0))}}),s},f=async()=>{const t=await C(n.mac,n.date),r=S(t,n.date);i(r)};D(async()=>{await f(),c=setInterval(f,6e4)}),H(async()=>{n.date&&await f()}),I(()=>{clearInterval(c)});const d=t=>t.toString().padStart(2,"0")+":00",p=t=>{const r=t.isOn?"ON":"OFF",s=d(t.hour)+" - "+d((t.hour+1)%24);if(t.entries.length>0){const e=t.entries[t.entries.length-1];return`Time: ${s}
Status: ${r}
IP: ${e.IP}
Iface: ${e.Iface}`}return`Time: ${s}
Status: ${r}
No data`};return(()=>{var t=N(),r=t.firstChild;return v(r,y(E,{each:l,children:s=>(()=>{var e=A();return O(a=>{var m=s.isOn?"timeline-slot timeline-on":"timeline-slot timeline-off",o=p(s);return m!==a.e&&T(e,a.e=m),o!==a.t&&b(e,"title",a.t=o),a},{e:void 0,t:void 0}),e})()})),v(t,y(F,{get when(){return u()},get children(){return M()}}),null),t})()}export{P as M};
